name = "rad"
version = "0.2.0-dev"
description = "A task runner for Gleam projects"
licences = ["Apache-2.0"]
target = "javascript"

[repository]
repo = "rad"
user = "tynanbe"
type = "github"

[[links]]
href = "https://gleam.run/"
title = "Website"

[dependencies]
gleam_erlang = "~> 0.15"
gleam_http = "~> 3.1"
gleam_httpc = "~> 2.0"
gleam_json = "~> 0.5"
gleam_stdlib = "~> 0.27"
glint = "~> 0.8.0"
shellout = "~> 1.2"
snag = "~> 0.2"
thoas = "~> 0.3"
tomerl = "~> 0.5"

[dev-dependencies]
gleeunit = "~> 0.7"

[javascript]
runtime = "deno"

[javascript.deno]
allow_all = true

[rad]
workbook = "rad/workbook/standard"
targets = ["erlang", "javascript"]
with = "javascript"

[[rad.formatters]]
name = "erlang"
check = ["erlfmt", "--check"]
run = ["erlfmt", "--write", "src/rad_ffi.erl"]

[[rad.formatters]]
name = "javascript"
check = ["deno", "fmt", "--check"]
run = ["deno", "fmt"]

[[rad.tasks]]
path = ["purple", "heart"]
run = ["echo", "ğŸ’œ The dream you'll have here is a dream within a dream."]
shortdoc = "ğŸ’œ The dream you'll have here is a dream within a dream."

[[rad.tasks]]
path = ["sparkles"]
run = ["echo", "âœ¨ It's been a long road getting here..."]

[[rad.tasks]]
path = ["sparkling", "heart"]
run = ["sh", "-c", "echo 'ğŸ’– I was staring out the window and there it was, just fluttering there...' $(rad version)!"]
